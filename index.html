<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnxietyAid - Your Personal Support Companion</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Emergency Support Button (Always Visible) -->
    <div class="emergency-button" id="emergency-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        Emergency
    </div>

    <!-- Welcome Screen -->
    <div class="screen active" id="welcome-screen">
        <div class="container">
            <div class="welcome-content">
                <div class="welcome-hero">
                    <h1>Welcome to AnxietyAid</h1>
                    <p class="welcome-subtitle">Your personal companion for managing anxiety and uncertainty</p>
                </div>
                
                <div class="welcome-features">
                    <div class="feature-card">
                        <div class="feature-icon">üìã</div>
                        <h3>Track Situations</h3>
                        <p>Log anxiety-provoking situations and track your progress</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üß†</div>
                        <h3>Smart Recommendations</h3>
                        <p>Get personalized coping strategies based on your experiences</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìà</div>
                        <h3>Progress Tracking</h3>
                        <p>Visualize your improvement and identify patterns</p>
                    </div>
                </div>

                <div class="welcome-actions">
                    <button class="btn btn--primary btn--lg" id="get-started-btn">Get Started</button>
                    <button class="btn btn--outline btn--lg" id="returning-user-btn">I'm a returning user</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Initial Assessment Screen -->
    <div class="screen" id="assessment-screen">
        <div class="container">
            <div class="assessment-header">
                <h2>Initial Assessment</h2>
                <p>Help us understand your current situation better</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="assessment-progress"></div>
                </div>
                <span class="progress-text" id="progress-text">Question 1 of 12</span>
            </div>

            <div class="assessment-content">
                <div class="question-container" id="question-container">
                    <!-- Questions will be populated dynamically -->
                </div>

                <div class="assessment-navigation">
                    <button class="btn btn--outline" id="prev-question" disabled>Previous</button>
                    <button class="btn btn--primary" id="next-question">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div class="screen" id="dashboard-screen">
        <div class="container">
            <div class="dashboard-header">
                <h2>Your Dashboard</h2>
                <div class="user-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="current-anxiety-level">-</div>
                        <div class="stat-label">Current Anxiety</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="situations-logged">0</div>
                        <div class="stat-label">Situations Logged</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="progress-score">-</div>
                        <div class="stat-label">Progress Score</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="dashboard-section">
                    <h3>Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="action-card" id="log-situation-btn">
                            <div class="action-icon">üìù</div>
                            <div class="action-text">
                                <div class="action-title">Log New Situation</div>
                                <div class="action-subtitle">Record an anxiety-provoking event</div>
                            </div>
                        </button>
                        <button class="action-card" id="quick-mood-btn">
                            <div class="action-icon">üòä</div>
                            <div class="action-text">
                                <div class="action-title">Quick Mood Check</div>
                                <div class="action-subtitle">Rate your current feeling</div>
                            </div>
                        </button>
                        <button class="action-card" id="breathing-exercise-btn">
                            <div class="action-icon">ü´Å</div>
                            <div class="action-text">
                                <div class="action-title">Breathing Exercise</div>
                                <div class="action-subtitle">Quick 3-minute calming technique</div>
                            </div>
                        </button>
                    </div>
                </div>

                <div class="dashboard-section">
                    <h3>Recent Progress</h3>
                    <div class="chart-container" style="position: relative; height: 300px;">
                        <canvas id="progress-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-section">
                    <h3>Recent Situations</h3>
                    <div class="recent-situations" id="recent-situations">
                        <p class="no-data">No situations logged yet. Start by logging your first situation!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Situation Logging Screen -->
    <div class="screen" id="situation-screen">
        <div class="container">
            <div class="situation-header">
                <h2>Log New Situation</h2>
                <p>Record details about your anxiety-provoking experience</p>
            </div>

            <form class="situation-form" id="situation-form">
                <div class="form-group">
                    <label class="form-label" for="situation-description">What happened?</label>
                    <textarea class="form-control" id="situation-description" rows="3" placeholder="Describe the situation that caused anxiety..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="anxiety-level">Anxiety Level (1-10)</label>
                    <div class="anxiety-slider">
                        <input type="range" id="anxiety-level" min="1" max="10" value="5" class="slider">
                        <div class="slider-labels">
                            <span>1 (Calm)</span>
                            <span id="anxiety-value">5</span>
                            <span>10 (Panic)</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">What triggered this anxiety?</label>
                    <div class="trigger-grid" id="trigger-grid">
                        <!-- Triggers will be populated dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Physical symptoms experienced</label>
                    <div class="symptom-grid" id="symptom-grid">
                        <!-- Symptoms will be populated dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="uncertainty-elements">What aspects felt uncertain or unknown?</label>
                    <textarea class="form-control" id="uncertainty-elements" rows="2" placeholder="What specific unknowns worried you?"></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn--outline" id="cancel-situation">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save & Get Recommendations</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Recommendations Screen -->
    <div class="screen" id="recommendations-screen">
        <div class="container">
            <div class="recommendations-header">
                <h2>Personalized Recommendations</h2>
                <p>Based on your situation and past experiences</p>
            </div>

            <div class="recommendations-content">
                <div class="similar-situations" id="similar-situations" style="display: none;">
                    <h3>Similar Past Experiences</h3>
                    <div class="similar-situations-list" id="similar-situations-list">
                        <!-- Similar situations will be populated dynamically -->
                    </div>
                </div>

                <div class="recommended-strategies">
                    <h3>Recommended Coping Strategies</h3>
                    <div class="strategies-list" id="strategies-list">
                        <!-- Strategies will be populated dynamically -->
                    </div>
                </div>

                <div class="recommendations-actions">
                    <button class="btn btn--outline" id="back-to-dashboard">Back to Dashboard</button>
                    <button class="btn btn--primary" id="rate-effectiveness">Rate Strategy Effectiveness</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Progress Screen -->
    <div class="screen" id="progress-screen">
        <div class="container">
            <div class="progress-header">
                <h2>Your Progress</h2>
                <p>Track your improvement over time</p>
            </div>

            <div class="progress-content">
                <div class="progress-charts">
                    <div class="chart-section">
                        <h3>Anxiety Levels Over Time</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="anxiety-trend-chart"></canvas>
                        </div>
                    </div>

                    <div class="chart-section">
                        <h3>Most Common Triggers</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="triggers-chart"></canvas>
                        </div>
                    </div>

                    <div class="chart-section">
                        <h3>Strategy Effectiveness</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="effectiveness-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="progress-insights" id="progress-insights">
                    <h3>Insights & Patterns</h3>
                    <div class="insights-list" id="insights-list">
                        <!-- Insights will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Emergency Support Modal -->
    <div class="modal hidden" id="emergency-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Emergency Support</h3>
                <button class="modal-close" id="close-emergency">&times;</button>
            </div>
            <div class="modal-body">
                <div class="emergency-section">
                    <h4>Immediate Crisis Resources</h4>
                    <div class="crisis-resources" id="crisis-resources">
                        <!-- Emergency resources will be populated dynamically -->
                    </div>
                </div>

                <div class="emergency-section">
                    <h4>Quick Grounding Exercise</h4>
                    <div class="grounding-exercise">
                        <p><strong>5-4-3-2-1 Technique:</strong></p>
                        <ul>
                            <li>5 things you can see</li>
                            <li>4 things you can touch</li>
                            <li>3 things you can hear</li>
                            <li>2 things you can smell</li>
                            <li>1 thing you can taste</li>
                        </ul>
                        <button class="btn btn--primary" id="start-grounding">Start Guided Exercise</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Breathing Exercise Modal -->
    <div class="modal hidden" id="breathing-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Breathing Exercise</h3>
                <button class="modal-close" id="close-breathing">&times;</button>
            </div>
            <div class="modal-body">
                <div class="breathing-exercise">
                    <div class="breathing-circle" id="breathing-circle">
                        <div class="breathing-text" id="breathing-text">Get Ready</div>
                    </div>
                    <div class="breathing-controls">
                        <button class="btn btn--primary" id="start-breathing">Start Exercise</button>
                        <button class="btn btn--outline" id="stop-breathing">Stop</button>
                    </div>
                    <div class="breathing-progress">
                        <div class="progress-text">Cycles completed: <span id="breathing-cycles">0</span>/5</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bottom-nav" id="bottom-nav" style="display: none;">
        <button class="nav-item active" data-screen="dashboard">
            <div class="nav-icon">üè†</div>
            <div class="nav-label">Dashboard</div>
        </button>
        <button class="nav-item" data-screen="situation">
            <div class="nav-icon">üìù</div>
            <div class="nav-label">Log</div>
        </button>
        <button class="nav-item" data-screen="progress">
            <div class="nav-icon">üìà</div>
            <div class="nav-label">Progress</div>
        </button>
    </nav>

    <script src="app.js"></script>
</body>
</html>